@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: 'DM Sans', system-ui, sans-serif;
  line-height: 1.6;
  font-weight: 400;
  color-scheme: light dark;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  --color-bg: #fafbfc;
  --color-text: #0f172a;
  --color-text-muted: #64748b;
  --color-border: #e2e8f0;
  --color-brand: #16a34a;
  --color-brand-hover: #15803d;
  
  /* Blog and component colors */
  --color-primary: #16a34a;
  --color-secondary: #64748b;
  --text-color: #0f172a;
  --text-color-secondary: #64748b;
  --background-light: #f8fafc;
}

.dark {
  color-scheme: dark;
  --color-bg: #0c1222;
  --color-text: #f1f5f9;
  --color-text-muted: #94a3b8;
  --color-border: #1e293b;
  --color-brand: #4ade80;
  --color-brand-hover: #22c55e;
  
  /* Blog and component colors */
  --color-primary: #4ade80;
  --color-secondary: #94a3b8;
  --text-color: #f1f5f9;
  --text-color-secondary: #94a3b8;
  --background-light: #1e293b;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-color: var(--color-bg);
  color: var(--color-text);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* RTL Support */
[dir="rtl"] {
  font-family: 'Vazirmatn', 'DM Sans', system-ui, sans-serif;
  text-align: right;
}

[dir="rtl"] body {
  text-align: right;
}

/* Header and Navigation always stay LTR */
.header-ltr,
[dir="rtl"] .header-ltr {
  direction: ltr !important;
  text-align: left !important;
}

.header-ltr *,
[dir="rtl"] .header-ltr * {
  direction: ltr !important;
  text-align: left !important;
}

/* Smooth scroll */
html {
  scroll-behavior: smooth;
}

/* Focus visible for accessibility */
:focus-visible {
  outline: 2px solid var(--color-brand);
  outline-offset: 2px;
}

/* Selection */
::selection {
  background-color: rgba(34, 197, 94, 0.25);
}

/* Gradient mesh utility for hero backgrounds */
.gradient-mesh {
  background:
    radial-gradient(ellipse 80% 50% at 50% -20%, rgba(34, 197, 94, 0.25), transparent),
    radial-gradient(ellipse 60% 40% at 100% 0%, rgba(16, 185, 129, 0.2), transparent),
    radial-gradient(ellipse 50% 30% at 0% 50%, rgba(34, 197, 94, 0.15), transparent);
}

.dark .gradient-mesh {
  background:
    radial-gradient(ellipse 80% 50% at 50% -20%, rgba(34, 197, 94, 0.15), transparent),
    radial-gradient(ellipse 60% 40% at 100% 0%, rgba(16, 185, 129, 0.1), transparent),
    radial-gradient(ellipse 50% 30% at 0% 50%, rgba(34, 197, 94, 0.08), transparent);
}

/* Glass effect */
.glass {
  @apply bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/20 dark:border-gray-700/50;
}

/* Animated underline for nav links */
.nav-link-underline {
  position: relative;
}
.nav-link-underline::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 100%;
  height: 2px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.25s ease;
}
.nav-link-underline:hover::after,
.nav-link-underline.active::after {
  transform: scaleX(1);
  transform-origin: left;
}

/* RTL Animated underline for nav links */
[dir="rtl"] .nav-link-underline::after {
  left: auto;
  right: 0;
  transform-origin: left;
}

[dir="rtl"] .nav-link-underline:hover::after,
[dir="rtl"] .nav-link-underline.active::after {
  transform-origin: right;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
